// list of all content with refernces to section, order within section and type of element
export const state = () => ({
	list: [
		{
			contentId: 1,
			sectionId: 1,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 2,
			sectionId: 1,
			order: 2,
			type: 'Assignment'
		},
		{
			contentId: 3,
			sectionId: 1,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 4,
			sectionId: 2,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 5,
			sectionId: 3,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 505,
			sectionId: 3,
			order: 2,
			type: 'MultipleChoice'
		},
		{
			contentId: 6,
			sectionId: 4,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 605,
			sectionId: 4,
			order: 2,
			type: 'MultipleChoice'
		},
		{
			contentId: 7,
			sectionId: 5,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 8,
			sectionId: 5,
			order: 2,
			type: 'SpecialText'
		},
		{
			contentId: 9,
			sectionId: 5,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 10,
			sectionId: 5,
			order: 4,
			type: 'SpecialText'
		},
		{
			contentId: 109,
			sectionId: 5,
			order: 5,
			type: 'MultipleChoice'
		},
		{
			contentId: 11,
			sectionId: 6,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 12,
			sectionId: 6,
			order: 2,
			type: 'SpecialText'
		},
		{
			contentId: 13,
			sectionId: 6,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 131,
			sectionId: 6,
			order: 4,
			type: 'MultipleChoice'
		},
		{
			contentId: 14,
			sectionId: 7,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 141,
			sectionId: 7,
			order: 2,
			type: 'MultipleChoice'
		},
		{
			contentId: 15,
			sectionId: 8,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 16,
			sectionId: 8,
			order: 2,
			type: 'TheoryElement'
		},
		{
			contentId: 17,
			sectionId: 8,
			order: 3,
			type: 'SpecialText'
		},
		{
			contentId: 18,
			sectionId: 8,
			order: 4,
			type: 'TheoryElement'
		},
		{
			contentId: 181,
			sectionId: 8,
			order: 5,
			type: 'Assignment'
		},
		{
			contentId: 19,
			sectionId: 9,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 20,
			sectionId: 9,
			order: 2,
			type: 'TheoryElement'
		},
		{
			contentId: 21,
			sectionId: 9,
			order: 3,
			type: 'Assignment'
		},
		{
			contentId: 22,
			sectionId: 9,
			order: 4,
			type: 'TheoryElement'
		},
		{
			contentId: 231,
			sectionId: 9,
			order: 5,
			type: 'VideoEmbed'
		},
		{
			contentId: 23,
			sectionId: 9,
			order: 6,
			type: 'SpecialText'
		},
		{
			contentId: 232,
			sectionId: 9,
			order: 7,
			type: 'MultipleChoice'
		},
		{
			contentId: 24,
			sectionId: 10,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 25,
			sectionId: 10,
			order: 2,
			type: 'TheoryElement'
		},
		{
			contentId: 26,
			sectionId: 10,
			order: 3,
			type: 'SpecialText'
		},
		{
			contentId: 27,
			sectionId: 10,
			order: 4,
			type: 'TheoryElement'
		},
		{
			contentId: 271,
			sectionId: 10,
			order: 5,
			type: 'MultipleChoice'
		},
		{
			contentId: 28,
			sectionId: 11,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 29,
			sectionId: 11,
			order: 2,
			type: 'Assignment'
		},
		{
			contentId: 30,
			sectionId: 11,
			order: 3,
			type: 'Assingment'
		},
		{
			contentId: 31,
			sectionId: 11,
			order: 4,
			type: 'SpecialText'
		},
		{
			contentId: 32,
			sectionId: 11,
			order: 5,
			type: 'TheoryElement'
		},
		{
			contentId: 33,
			sectionId: 11,
			order: 6,
			type: 'SpecialText'
		},
		{
			contentId: 35,
			sectionId: 11,
			order: 7,
			type: 'TheoryElement'
		},
		{
			contentId: 36,
			sectionId: 11,
			order: 8,
			type: 'TheoryElement'
		},
		{
			contentId: 361,
			sectionId: 11,
			order: 9,
			type: 'MultipleChoice'
		},
		{
			contentId: 37,
			sectionId: 12,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 371,
			sectionId: 12,
			order: 2,
			type: 'MultipleChoice'
		},
		{
			contentId: 372,
			sectionId: 12,
			order: 3,
			type: 'MultipleChoice'
		},
		{
			contentId: 373,
			sectionId: 12,
			order: 4,
			type: 'MultipleChoice'
		},
		{
			contentId: 38,
			sectionId: 13,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 39,
			sectionId: 13,
			order: 2,
			type: 'TheoryElement'
		},
		{
			contentId: 40,
			sectionId: 13,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 41,
			sectionId: 14,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 401,
			sectionId: 14,
			order: 2,
			type: 'MultipleChoice'
		},
		{
			contentId: 42,
			sectionId: 14,
			order: 2,
			type: 'Assignment'
		},
		{
			contentId: 43,
			sectionId: 14,
			order: 3,
			type: 'Assignment'
		},
		{
			contentId: 44,
			sectionId: 15,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 45,
			sectionId: 15,
			order: 2,
			type: 'SpecialText'
		},
		{
			contentId: 46,
			sectionId: 15,
			order: 3,
			type: 'Assignment'
		},
		{
			contentId: 47,
			sectionId: 15,
			order: 4,
			type: 'TheoryElement'
		},
		{
			contentId: 48,
			sectionId: 16,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 49,
			sectionId: 16,
			order: 2,
			type: 'SpecialText'
		},
		{
			contentId: 50,
			sectionId: 16,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 501,
			sectionId: 16,
			order: 4,
			type: 'MultipleChoice'
		},
		{
			contentId: 51,
			sectionId: 16,
			order: 4,
			type: 'SpecialText'
		},
		{
			contentId: 52,
			sectionId: 16,
			order: 5,
			type: 'TheoryElement'
		},
		{
			contentId: 521,
			sectionId: 16,
			order: 6,
			type: 'MultipleChoice'
		},
		{
			contentId: 53,
			sectionId: 17,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 54,
			sectionId: 18,
			order: 1,
			type: 'TheoryElement'
		},
		{
			contentId: 55,
			sectionId: 18,
			order: 2,
			type: 'TheoryElement'
		},
		{
			contentId: 56,
			sectionId: 18,
			order: 3,
			type: 'TheoryElement'
		},
		{
			contentId: 57,
			sectionId: 18,
			order: 4,
			type: 'TheoryElement'
		},
		{
			contentId: 571,
			sectionId: 16,
			order: 5,
			type: 'MultipleChoice'
		},
		{
			contentId: 58,
			sectionId: 18,
			order: 6,
			type: 'TheoryElement'
		},
		{
			contentId: 59,
			sectionId: 18,
			order: 7,
			type: 'TheoryElement'
		},
		{
			contentId: 60,
			sectionId: 18,
			order: 8,
			type: 'TheoryElement'
		},
		{
			contentId: 61,
			sectionId: 18,
			order: 9,
			type: 'TheoryElement'
		}
	]
})

export const getters = {
	sectionStructure: state => id => {
		return orderContent([
			...state.list.filter(item => item.sectionId === id)
		])
	},
	getContentList: state => data => {
		let filters = []
		if (data.type === 'theory') {
			filters = ['TheoryElement', 'SpecialText', 'VideoEmbed']
		} else {
			filters = ['Assignment', 'MultipleChoice', 'ReturnAssignment']
		}
		if (data.lvl === 'overall') {
			return orderContent(
				state.list.filter(x => filters.some(y => y === x.type))
			)
		} else if (data.lvl === 'chapter') {
			const sections = data.sections
			return orderContent(
				state.list.filter(
					x =>
						filters.some(y => y === x.type) &&
						sections.some(z => z.id === x.sectionId)
				)
			)
		} else if (data.lvl === 'section') {
			return orderContent(
				state.list.filter(
					x =>
						filters.some(y => y === x.type) &&
						x.sectionId === data.id
				)
			)
		}
	}
}

// retun an ordered list by key order
function orderContent(array) {
	return array.sort(function() {
		const key = 'order'
		return function innserSort(a, b) {
			const varA = a[key]
			const varB = b[key]
			let comparison = 0
			if (varA > varB) {
				comparison = 1
			} else if (varA < varB) {
				comparison = -1
			}
			return comparison
		}
	})
}
